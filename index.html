<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/fav.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Afton Gauntlett - Senior Frontend Engineer specializing in React, TypeScript, and accessible web applications"
    />
    <meta name="author" content="Afton Gauntlett" />
    <meta name="theme-color" content="#1fa3d1" />
    <title>Afton Gauntlett - Frontend Engineer Portfolio</title>

    <!-- Immediate theme detection and styling to prevent ANY flash -->
    <script>
      (function () {
        try {
          const stored = localStorage.getItem('theme');
          const prefersDark =
            window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          const theme = stored || (prefersDark ? 'dark' : 'light');

          // Apply theme class immediately
          if (theme === 'dark') {
            document.documentElement.classList.add('dark');
          }
        } catch (e) {
          // Silent fallback to light mode
        }
      })();
    </script>

    <!-- Critical CSS to prevent any visual flash -->
    <style>
      /* Immediate background and text styling */
      html {
        background-color: hsl(210, 31%, 95%) !important;
        color: hsl(215, 15%, 15%) !important;
      }

      html.dark {
        background-color: hsl(0, 0%, 8%) !important;
        color: hsl(210, 19%, 88%) !important;
      }

      body {
        background-color: inherit !important;
        color: inherit !important;
        margin: 0;
        padding: 0;
      }

      /* Ensure all text uses correct colors immediately */
      * {
        color: inherit;
      }

      /* Override any blue link colors before CSS loads */
      a {
        color: inherit !important;
        text-decoration: none !important;
      }

      /* Loading state styling */
      #root {
        min-height: 100vh;
        background-color: inherit;
      }

      /* Prevent any content from showing during load */
      #root:empty {
        opacity: 0;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
